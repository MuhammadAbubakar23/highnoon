<ngx-spinner
  bdColor="rgba(0, 0, 0, 0.8)"
  size="medium"
  color="#fff"
  type="square-jelly-box"
  [fullScreen]="true"
  ><p style="color: white">Loading...</p></ngx-spinner
>

<div class="middle-content d-flex">
  <div
    class="team-user-wrap console-body-wrapper inbox-container"
    data-scrollbar="true"
    tabindex="-1"
    style="overflow: hidden; outline: none"
  >
    <div class="scroll-content">
      <div class="row h-auto justify-content-center">
        <div class="col-md-11">
          <div class="w-100 inbox-container">
            <div class="filter-container">
              <div class="row">
                <div class="col-md-5">
                  <ul class="list-group list-group-horizontal border-0">
                    <li class="list-group-item border-0 p-0">
                      <div class="icon-input">
                        <i class="fa-light fa-magnifying-glass"></i>
                        <input
                          class="form-control"
                          placeholder="Search Users.. "
                        />
                      </div>
                    </li>
                    <li
                      class="list-group-item border-0 refreshicon iconHover iconButton medium rounded-circle"
                      aria-label="..."
                      data-bs-toggle="tooltip"
                      data-bs-placement="bottom"
                      data-bs-original-title="Refresh"
                    >
                      <i class="fal fa-redo"></i>
                    </li>
                  </ul>
                </div>
                <div class="col-md-7">
                  <div
                    class="d-flex align-items-center justify-content-end"
                  ></div>
                </div>
              </div>
            </div>
            <div
                class="query-container perfect-scrollbar"
                data-scrollbar="true"
                tabindex="-1"
                style="overflow-y: auto; outline: none"
              >
                <div class="scroll-content">
                  <div
                    class="alert alert-secondary text-center email-info-alert p-2"
                    role="alert"
                  >
                    All <strong>09</strong> candidates on this page are
                    selected.
                    <a
                      href="javascript:void(0);"
                      class="all-conversation fw-bold sky btn"
                      >Select all 09 Candidates</a
                    >
                    <a
                      href="javascript:void(0);"
                      class="clear-selection"
                      style="display: none"
                      >Clear selection</a
                    >
                  </div>

                  <div class="table-section">
                    <table class="table">
                      <thead>
                        <tr>
                          <!-- <th *ngIf="showCheckboxes">
                            <ul class="list-group list-group-horizontal border-0 p-0">
                              <li class="list-group-item border-0 all-check-boxes p-0">
                                <input class="form-check-input" type="checkbox" aria-label="..." data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-original-title="Check All">
                              </li>
                            </ul>
                            -->
                          <th>ID</th>
                          <th *ngFor="let column of columnNames">
                            {{ column }}
                          </th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr *ngFor="let item of deligationItems; let i = index">
                          <td *ngIf="pageNumber == 1">{{ i + 1 }}</td>
                          <td *ngIf="pageNumber > 1">
                            {{ i + 1 + pageSize * (pageNumber - 1) }}
                          </td>

                          <td *ngFor="let column of desColumns">
                            <ng-container *ngIf="column==='role';else exceptBlock">
                              {{ item[column][0] }}<span *ngIf="item[column][1]">,{{ item[column][1] }}</span>
                              <div class="d-inline-block w-auto dropend">
                                <button class="btn iconButton small iconHover silver" type="button" id="dropdownMenu2" data-bs-toggle="dropdown" aria-expanded="false">
                                  <span class="btn iconButton small iconHover silver" *ngIf="item[column].length > 2">+{{ item[column].length-2 }}</span>
                                </button>
                                <ul class="dropdown-menu w-auto" aria-labelledby="dropdownMenu2">
                                  <li *ngFor="let v of item[column].slice(2)">
                                    <a class="dropdown-item">
                                      <span>{{v}}</span>
                                    </a>
                                  </li>
                                </ul>
                              </div>
                            </ng-container>
                            <ng-template #exceptBlock>{{ item[column] }}</ng-template>
                          </td>

                          <td>
                            <a href="" class="btn btn-sm bg-primary20 night rounded-pill" data-bs-toggle="offcanvas" data-bs-target="#assigndelegation" aria-controls="assigndelegation">Assign Deligation</a>
                          </td>
                          <!-- <td>
                            <div
                              class="dropdown w-auto"
                              data-bs-toggle="tooltip"
                              data-bs-placement="top"
                            >
                              <button
                                class="iconButton small iconHover d-inline-block"
                                id="dropdownMenuButton1"
                                data-bs-toggle="dropdown"
                                aria-expanded="true"
                              >
                                <i class="far fa-ellipsis-v"></i>
                              </button>
                              <ul
                                class="dropdown-menu custom-dropdown"
                                aria-labelledby="dropdownMenuButton1"
                              >
                                <li>
                                  <a
                                    class="dropdown-item p-1"
                                    (click)="
                                      editAvailableMedicine(
                                        item.availableMedicineId
                                      )
                                    "
                                  >
                                    <button
                                      class="iconButton dropdown-iconBtn small"
                                    >
                                      <i class="fal fa-edit"></i></button
                                    >Edit
                                  </a>
                                </li>
                                <li>
                                  <a
                                    class="dropdown-item p-1"
                                    (click)="
                                      deletegetAvailableMedicine(
                                        item.availableMedicineId
                                      )
                                    "
                                  >
                                    <button
                                      class="iconButton dropdown-iconBtn small dropdown-item p-1"
                                    >
                                      <i class="fal fa-trash"></i>
                                    </button>
                                    Delete
                                  </a>
                                </li>
                              </ul>
                            </div>
                          </td> -->
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <ng-container *ngIf="totalRecords > 10">
                  <div class="me-5">
                    <ul class="pagination justify-content-end">
                      <li class="page-item">
                        <a
                          class="page-link"
                          (click)="prevPage()"
                          [attr.disabled]="pageNumber === 1"
                          >Previous</a
                        >
                      </li>
                      <li
                        class="page-item"
                        *ngFor="let page of totalPagesArray()"
                      >
                        <a
                          class="page-link"
                          (click)="changePage(page)"
                          [class.active]="pageNumber === page"
                          [style.color]="pageNumber === page ? 'blue' : 'black'"
                          >{{ page }}</a
                        >
                      </li>
                      <li class="page-item">
                        <a
                          class="page-link"
                          (click)="nextPage()"
                          [attr.disabled]="pageNumber === totalPages"
                          >Next</a
                        >
                      </li>
                    </ul>
                  </div>
                </ng-container>
              </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="offcanvas w-40 offcanvas-end" tabindex="-1" id="assigndelegation" aria-labelledby="assigndelegationLabel">
  <div class="offcanvas-header bg-light">
    <div class="row g-0 w-100">
      <div class="col-md-6 d-flex align-items-center">
        <h5 class="mb-0"> Assign Delegation</h5>
      </div>
      <div class="col-md-6 justify-content-end d-flex align-items-center pe-0">
        <span class="iconButton iconHower medium" data-bs-dismiss="offcanvas" aria-label="Close"><i class="fa-light fa-times"></i></span>
      </div>
    </div>


  </div>
  <div class="offcanvas-body">
    <div class="position-relative mb-4">
      <div class="mb-3 border-dashed p-4 rounded">
        <div class="d-flex align-items-center">
          <span class="iconButton large fw-bold mb-3">
            <img src="../../../../assets/images/avatar-1.jpg" class="rounded-circle large iconButton" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Sanan Hussain" alt="">
          </span>
          <div class="ms-3">
            <h5 class="text-dark">Sanan Hussain</h5>
            <p class="mb-1 coal"> sanan.hussain2com </p>
            <p class="mb-1 coal">   +923347551833 </p>
             <p class="mb-0" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Employee ID">    <span class="text-primary">131544</span>  </p>
          </div>
        </div>
      </div>
      <span class="iconButton large swapicon">
        <i class="fa-sharp fa-light fa-arrow-up-arrow-down"></i>
      </span>
      <div class="bg-primary20 p-4 rounded">
        <div class="d-flex align-items-center">
          <span class="iconButton large fw-bold mb-3">
            <img src="../../../../assets/images/avatar-3.jpg" class="rounded-circle large iconButton" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Taimoor Khan" alt="">
          </span>
          <div class="ms-3">
            <h5 class="text-dark">Taimoor Khan</h5>
            <p class="mb-1 text-dark"> taimoor.khancom </p>
            <p class="mb-1 text-dark">   +92 321 9209202 </p>
             <p class="mb-0" data-bs-toggle="tooltip" data-bs-placement="top" data-bs-title="Employee ID">    <span class="text-primary">122332</span>  </p>
          </div>
        </div>
      </div>
    </div>
    <div class="mb-3">
      <div class="row mt-3">
        <div class="col-sm-6">
          <label for="" class="col-form-label">From</label>
          <div class="input-group">
            <div class="input-wrapper" style="width: 100%;">
              <input
                class="form-control timepicker flatpickr-input"
                type="date"

              />
              <!-- <div class="invalid-feedback">
                <div *ngIf="lF['leaveStartDate'].errors?.['required']">
                  Leave Start Date is required.
                </div>
              </div>
              <div class="valid-feedback">Looks good!</div> -->
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <label for="" class="col-form-label">To</label>
          <div class="input-group">
            <div class="input-wrapper" style="width: 100%;">
              <input
                class="form-control timepicker flatpickr-input"
                type="date"

              />
              <!-- <div class="invalid-feedback">
                <div *ngIf="lF['leaveEndDate'].errors?.['required']">
                  Leave End Date is required.
                </div>
              </div>
              <div class="valid-feedback">Looks good!</div> -->
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  <footer class="bg-light p-3 text-end pe-5">
    <button class="btn btn-primary btn-small assigndelegation" data-bs-dismiss="offcanvas" style="margin-right: 8px;">Assign  </button>
    <button class="btn btn-outline-danger btn-small" data-bs-dismiss="offcanvas" aria-label="Close">Cancel</button>
  </footer>

</div>
